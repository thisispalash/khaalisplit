{% extends "base.html" %}

{% block title %}{{ profile_user.subname|default:"Profile" }} â€” khaaliSplit{% endblock %}

{% block content %}
<div class="max-w-md mx-auto mt-8 space-y-6">

  <form method="post" action="/api/auth/onboarding/profile/" class="space-y-4">
    {% csrf_token %}

    {% include 'photons/form-errors.html' with errors=form.non_field_errors %}
    {% include 'photons/form-field.html' with field=form.display_name label='Display Name' helper='How others will see you' %}
    {% include 'photons/form-field.html' with field=form.avatar_url label='Avatar URL' helper='Link to your profile picture' %}

    {% include 'quanta/button.html' with variant='primary' type='submit' label='Save Changes' full_width='true' %}
  </form>

  <div class="space-y-3">
    {% if profile_user.addresses.first %}
      <div class="p-3 border border-border rounded-md">
        <span class="text-xs text-subtle">Wallet</span>
        <p class="font-mono text-sm mt-1">{{ profile_user.addresses.first.address|truncatechars:18 }}</p>
      </div>
    {% endif %}
  </div>
  {% endif %}

</div>
{% endblock %}
